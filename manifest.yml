app:
  runtime:
    name: nodejs20.x
  id: ari:cloud:ecosystem::app/9a48dab4-314a-4dff-8651-24081741913d

permissions:
  scopes:
    - read:pullrequest:bitbucket
    - write:pullrequest:bitbucket
    - storage:app

modules:
  function:
    - key: getRiskAnalysis
      handler: bridge/getRiskAnalysis.handler
    - key: postPRComment
      handler: bridge/postPRComment.handler
    - key: getSimilarIncidents
      handler: bridge/getSimilarIncidents.handler
    - key: improvePRQuality
      handler: rovo/prQualityAgent.handler
    - key: loadSeedData
      handler: bridge/loadSeedData.loadSeedDataHandler

  bitbucket:repoPullRequestCard:
    - key: pr-risk-panel
      resource: main
      resolver:
        function: getRiskAnalysis
      title: Code Risk Analysis

resources:
  - key: main
    path: frontend/dist
